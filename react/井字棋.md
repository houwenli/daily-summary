## 井字棋项目开发流程记录

---

#### 搭建本地开发环境
你需要在你的机器上安装 Node >= 10.16 和 npm >= 5.6。亲测我这边会有点问题，我的node版本为v13.5.0，但是我本地启动后，一直报react-scripts中postcss错误，后来我把node升级到当时的最新版本v16.4.1才解决
1. 确保你安装了较新版本的 Node.js。
2. 按照 Create React App 安装指南创建一个新的项目
```js
npx create-react-app my-app
```
创建完了之后可以先执行npm start看看初始化react项目
3. 删除掉新项目中 src/ 文件夹下的所有文件
```
cd my-app
cd src
```
4. 在 src/ 文件夹中创建一个名为 index.css 的文件
5. 在 src/ 文件夹下创建一个名为 index.js 的文件
6. 拷贝以下三行代码到 src/ 文件夹下的 index.js 文件的顶部
```
import React from 'react';
import ReactDOM from 'react-dom';
import './index.css';
```

#### 开始写代码了
先看一下react的组件
```
class ShoppingList extends React.Component {
    render () {
        return (
            <div class="shopping-list">
                <h1>Shopping List for {this.props.name}</h1>
                <ul>
                    <li>Instagram</li>
                    <li>WhatsApp</li>
                    <li>Oculus</li>
                </ul>
            </div>
        )
    }
}
```
上面的代码用jsx的方式定义了vue重的template，注意一点，**react组件传递props时，组件内不用像vue那样显式声明props，可以直接使用**

#### 使用props传递数据
```
// 父组件，往square中传入value
class Board extends React.Component {
    renderSquare(i) {
        return <Square value={i}>
    }
    render () {
        return (
            // ...
        )
    }
}
// 子组件，接收value值
class Square extends React.Component {
    render () {
        return (
            <button className="square">
                {this.props.value}
            </button>
        )
    }
}
```
#### 给组件增加交互
```
class Square extends React.Component {
    render () {
        return (
            <button className="square" onClick={() => { alert('click') }}>
                {this.props.value}
            </button>
        )
    }
}
```

#### state 存储状态
接下来，我们希望Square组件可以“记住”自己被点击过，用state可以实现这个功能
```
class Square extends React.Component {
    constructor (props) {
        super(props);
        this.state = {
            value: null
        }
    }
    render () {
        return (
            <button className="square" onClick={() => { alert('click') }}>
                {this.props.value}
            </button>
        )
    }
}
```
**在 JavaScript class 中，每次你定义其子类的构造函数时，都需要调用 super 方法。因此，在所有含有构造函数的的 React 组件中，构造函数必须以 super(props) 开头。**