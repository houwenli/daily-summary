
# 什么是模块联邦

在模块联邦出现之前，应用程序都是独立开发得，共享代码得可扩展方案最接近得就是externals，强制集中依赖于外部文件。共享代码很麻烦，单独得应用程序并不是真正独立的，通常共享得依赖项有限

此外，在单独捆绑得应用程序之间共享实际功能代码和组件是不可行得

> `模块联邦出现得动机`：多个独立得构建可以组成一个应用程序，这些独立得构建之间不应该存在依赖关系，可以单独开发和部署它们。这通常被称为微前端

`webpack模块联邦`是webpack5中引入得一项新功能，它允许不同得webpack构建之间共享状态并动态加载依赖项。具体来说就是将一个大型应用程序拆分成一个个的小应用，这些小应用可以在运行时共享代码和依赖项

webpack模块联邦包含两个主要概念： 提供者和使用者。提供者是将模块暴露给其他应用程序的webpack构建，而使用者则是从提供者加载模块的webpack构建。使用webpack模块联邦时，提供者将暴露一个或者多个模块，这些模块可以由使用者在运行时动态加载和使用

使用模块联邦需要在webpack配置中添加相应的插件和配置。对于提供者，需要使用`ModuleFederationPlugin`配置暴露的模块和提供者的名称。对于使用者，需要使用`remoteEntry`配置和remote选项指定要从哪个提供者加载模块

## 核心概念

### container

一个使用`ModuleFederationPlugin`构建的应用就是一个container，他可以加载其他的container，也可以被其他的container加载

### host & remote

container 可以分为host（使用者）和remote（提供者），host可以动态加载并运行其他remote的代码，remote作为提供方，可以自定义暴露出一些属性，方法或组件

同一个container同时可以作为host和remote

### shared

shared表示共享依赖，一个应用可以将自己的依赖共享出去，其他的应用可以直接使用共享作用域中的依赖从而减少应用的体积

## 配置属性